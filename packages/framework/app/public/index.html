<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://unpkg.com/@angular/material@10.1.3/prebuilt-themes/indigo-pink.css">
    <link rel="stylesheet" href="https://unpkg.com/filepond@4.27.1/dist/filepond.min.css">
    <script src="/drayman-element.js"></script>
</head>

<body>
    <drayman-framework-element component="home"></drayman-framework-element>

    <div class="drayman-elements-container"></div>

    <script>
        const delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));
        (async () => {
            if (location.pathname === '/update-from-html') {
                let ready;
                while (!ready) {
                    ready = Array.from(document.querySelectorAll('div')).find(el => el.innerText === 'Ready!');
                    await delay(100);
                }
                const draymanElement = document.getElementsByTagName('drayman-framework-element')[0];
                draymanElement.setAttribute('options', JSON.stringify({ text: 'Updated!' }));
            }
        })();
    </script>
</body>

</html>