<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://unpkg.com/@angular/material@10.1.3/prebuilt-themes/indigo-pink.css">
    <!-- <script src="//unpkg.com/navigo"></script> -->
    <script src="/drayman-element.js"></script>
    <!-- <script src="https://unpkg.com/socket.io-client@4.0.0/dist/socket.io.min.js"></script> -->
</head>

<body>

    <!-- <div id="root"></div> -->
    <drayman-element-advanced component="light"></drayman-element-advanced>
    <!-- <drayman-element component="light"></drayman-element> -->
    <!-- <drayman-element component="light"></drayman-element> -->
    <!-- <button router-link="/about">About</button>
    <button router-link="/contact">Contact</button>
    <button router-link="/unknown">Error</button> -->

    <script>
        // const socket = io();
        // const onRouteChange = () => {
        //     console.log(`onRouteChange`, window.location.href);
        // }
        // window.onpopstate = onRouteChange;
        // window.history.pushState = new Proxy(window.history.pushState, {
        //     apply: (target, thisArg, argArray) => {
        //         const result = target.apply(thisArg, argArray);
        //         onRouteChange();
        //         return result;
        //     },
        // });
        // const navigate = (e) => {
        //     let route = e.target.attributes[0].value;

        //     // redirect to the router instance
        //     // let routeInfo = routerInstance.routes.filter(r => r.path === route)[0]
        //     // if (!routeInfo) {
        //     // window.history.pushState({}, '', 'error')
        //     // root.innerHTML = `This route is not Defined`
        //     // } else {
        //     // console.log(window.history);
        //     window.history.pushState({}, '', route)
        //     // root.innerHTML = `You are on the ${routeInfo.name} path`
        //     // }
        // }
        // const definedRoutes = Array.from(document.querySelectorAll('[router-link]'));
        // definedRoutes.forEach(route => {
        //     route.addEventListener('click', navigate, false)
        // })

        // const rootEl = document.getElementById('root');
        // const rootHtml = (child = '') => {
        //     return `
        //         <a href="/hello" data-navigo>hello.tsx</a>
        //         <a href="/modal?hello=world" data-navigo>modal.tsx</a>
        //         ${child}
        //     `
        // };
        // const router = new Navigo('/');
        // router.on('/', function () {
        //     rootEl.innerHTML = rootHtml();
        // });
        // router.on('/hello', function () {
        //     rootEl.innerHTML = rootHtml(`<drayman-element component="hello"></drayman-element>`);
        // });
        // router.on('/modal', function (x) {
        //     console.log(x);
        //     rootEl.innerHTML = rootHtml(`<drayman-element component="modal" options='{ "url": "${window.location.href}" }'></drayman-element>`);
        // });
        // router.resolve();
    </script>
</body>

</html>